; NOTE: Assertions have been autogenerated by utils/update_test_checks.py
; RUN: opt -early-cse -O2 -S < %s | FileCheck %s

; Regression test that checks that EarlyCSE doesn't try to build a constant
; vector from an insertelement for scalable vectors, as that is currently
; expanded into a shufflevector plus an insertelement.

define <vscale x 1 x i1> @insert_1() {
; CHECK-LABEL: @insert_1(
; CHECK-NEXT:    ret <vscale x 1 x i1> insertelement (<vscale x 1 x i1> undef, i1 true, i32 0)
;
  %v = insertelement <vscale x 1 x i1> undef, i1 true, i32 0
  ret <vscale x 1 x i1> %v
}
