// NOTE: Assertions have been autogenerated by utils/update_cc_test_checks.py
// RUN: %clang_cc1 -target-feature +epi -emit-llvm -o- %s | FileCheck %s

// CHECK-LABEL: @foo(
// CHECK-NEXT:  entry:
// CHECK-NEXT:    [[TMP0:%.*]] = call i64 @llvm.experimental.vector.vscale.i64()
// CHECK-NEXT:    [[A:%.*]] = alloca double, i64 [[TMP0]], align 8
// CHECK-NEXT:    [[TMP1:%.*]] = bitcast double* [[A]] to <vscale x 1 x double>*
// CHECK-NEXT:    [[TMP2:%.*]] = load <vscale x 1 x double>, <vscale x 1 x double>* [[TMP1]], align 8
// CHECK-NEXT:    store <vscale x 1 x double> [[TMP2]], <vscale x 1 x double>* [[TMP1]], align 8
// CHECK-NEXT:    ret void
//
void foo(void) {
  __epi_1xf64 a;
  a = a;
}
