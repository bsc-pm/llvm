! RUN: %oss-compile-and-run | FileCheck %s

PROGRAM P
  IMPLICIT NONE

  CALL TEST()

CONTAINS

SUBROUTINE TEST()
  IMPLICIT NONE
  INTEGER, ALLOCATABLE :: A(:)
  INTEGER, TARGET :: BUFF(10)
  INTEGER, POINTER :: PTR(:)

  ALLOCATE(A(10))
  PTR => BUFF
  BUFF = 8
  A = 5
  PRINT *, A
  PRINT *, PTR

  !$OSS TASK FIRSTPRIVATE(A, PTR)
  A = 4
  PTR = 6
  PRINT *, A
  PRINT *, PTR
  !$OSS END TASK
  !$OSS TASKWAIT

  PRINT *, A
  PRINT *, PTR

END SUBROUTINE
END PROGRAM

! CHECK: 5 5 5 5 5 5 5 5 5 5
! CHECK: 8 8 8 8 8 8 8 8 8 8
! CHECK: 4 4 4 4 4 4 4 4 4 4
! CHECK: 6 6 6 6 6 6 6 6 6 6
! CHECK: 5 5 5 5 5 5 5 5 5 5
! CHECK: 6 6 6 6 6 6 6 6 6 6
